<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate partial dependence plots — autoPDP • DriveML</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate partial dependence plots — autoPDP" />
<meta property="og:description" content="Partial dependence plots (PDPs) help you to visualize the relationship between a subset of the features and the response while accounting for the average effect of the other predictors in the model. They are particularly effective with black box models like random forests, gradient boosting, etc." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DriveML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/DriveML.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/experiment_driveml_big_data.html">Experiment of DriveML R package - Big Data set</a>
    </li>
    <li>
      <a href="../articles/experiment_driveml_large_data.html">Experiment of DriveML R package - Large Data set</a>
    </li>
    <li>
      <a href="../articles/experiment_driveml_medium_data.html">Experiment of DriveML R package - Medium Data set</a>
    </li>
    <li>
      <a href="../articles/experiment_driveml_small_data.html">Experiment of DriveML R package - Small Data set</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/daya6489/DriveML/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate partial dependence plots</h1>
    <small class="dont-index">Source: <a href='https://github.com/daya6489/DriveML/blob/master/R/partialDependence.R'><code>R/partialDependence.R</code></a></small>
    <div class="hidden name"><code>autoPDP.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Partial dependence plots (PDPs) help you to visualize the relationship between a subset of the features and the response while accounting for the average effect of the other predictors in the model. They are particularly effective with black box models like random forests, gradient boosting, etc.</p>
    </div>

    <pre class="usage"><span class='fu'>autoPDP</span><span class='op'>(</span>
  <span class='va'>train</span>,
  <span class='va'>trainedModel</span>,
  <span class='va'>target</span>,
  <span class='va'>feature</span>,
  sample <span class='op'>=</span> <span class='fl'>0.5</span>,
  <span class='va'>modelname</span>,
  seed <span class='op'>=</span> <span class='fl'>1991</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>train</th>
      <td><p>[data.frame | Required] training sample used to train ML model</p></td>
    </tr>
    <tr>
      <th>trainedModel</th>
      <td><p>[model object | Required] the object holding the machine learning model and the data</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>[character | Optional] target variable name. Specify target variable if model object is other than MLR or driveML</p></td>
    </tr>
    <tr>
      <th>feature</th>
      <td><p>[character | Optional] the feature name for which to compute the effects</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>[numeric | Optional] percentage of sample to be considered for training set for faster computation. Default of 0.5</p></td>
    </tr>
    <tr>
      <th>modelname</th>
      <td><p>[character | Optional] specify whcih model to be plotted</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>[integer | Optional] random seed number. Default is 121</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>List object containing a plot for each feature listed.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://christophm.github.io/iml/reference/FeatureEffects.html'>FeatureEffects</a></code>
<code><a href='https://mlr.mlr-org.com/reference/plotPartialDependence.html'>plotPartialDependence</a></code>
<code><a href='https://rdrr.io/pkg/pdp/man/partial.html'>partial</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># \donttest{</span>
<span class='co'>#' ## Example using DriveML model object</span>
<span class='va'>mymodel</span> <span class='op'>=</span> <span class='va'>heart.model</span>
<span class='va'>pdp_chol</span> <span class='op'>=</span> <span class='fu'>autoPDP</span><span class='op'>(</span><span class='va'>heart</span>, <span class='va'>mymodel</span>, feature <span class='op'>=</span> <span class='st'>"chol"</span>, sample <span class='op'>=</span> <span class='fl'>0.8</span>, seed <span class='op'>=</span> <span class='fl'>1234</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>input model object is from DriveML</span></div><div class='input'>
<span class='co'># Type one MLR package</span>
<span class='va'>mod</span> <span class='op'>&lt;-</span> <span class='fu'>mlr</span><span class='fu'>::</span><span class='fu'><a href='https://mlr.mlr-org.com/reference/train.html'>train</a></span><span class='op'>(</span><span class='fu'>makeLearner</span><span class='op'>(</span><span class='st'>"classif.ranger"</span><span class='op'>)</span>, <span class='va'>iris.task</span><span class='op'>)</span>
<span class='va'>cc</span> <span class='op'>=</span> <span class='fu'>autoPDP</span><span class='op'>(</span><span class='va'>iris</span>, <span class='va'>mod</span>, feature <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sepal.Length"</span>,<span class='st'>"Sepal.Width"</span>,<span class='st'>"Petal.Length"</span>,
                                   <span class='st'>"Petal.Width"</span><span class='op'>)</span>, sample <span class='op'>=</span> <span class='fl'>1</span>, seed <span class='op'>=</span> <span class='fl'>121</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>input model object is from MLR</span></div><div class='input'><span class='co'># Type 2 DrvieML object</span>
<span class='va'>hearML</span> <span class='op'>&lt;-</span> <span class='fu'><a href='autoMLmodel.html'>autoMLmodel</a></span><span class='op'>(</span><span class='va'>heart</span>,  target <span class='op'>=</span> <span class='st'>"target_var"</span>,  testSplit <span class='op'>=</span> <span class='fl'>0.2</span>,
tuneIters <span class='op'>=</span> <span class='fl'>10</span>,  tuneType <span class='op'>=</span> <span class='st'>"random"</span>,
models <span class='op'>=</span> <span class='st'>"all"</span>, varImp <span class='op'>=</span> <span class='fl'>20</span>,  liftGroup <span class='op'>=</span> <span class='fl'>50</span>, positive <span class='op'>=</span> <span class='fl'>1</span>, seed <span class='op'>=</span> <span class='fl'>1991</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [19:10:12] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:12] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:13] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:13] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:13] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:13] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:13] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:14] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:14] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:14] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
#&gt; [19:10:14] WARNING: amalgamation/../src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.</div><div class='input'><span class='va'>cc</span> <span class='op'>=</span> <span class='fu'>autoPDP</span><span class='op'>(</span><span class='va'>heart</span>, <span class='va'>hearML</span>, feature <span class='op'>=</span> <span class='st'>"chol"</span>, sample <span class='op'>=</span> <span class='fl'>0.8</span>, seed <span class='op'>=</span> <span class='fl'>1234</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>input model object is from DriveML</span></div><div class='input'>
<span class='va'>cc1</span> <span class='op'>=</span> <span class='fu'>autoPDP</span><span class='op'>(</span><span class='va'>heart</span>, <span class='va'>trainedModel</span>,target <span class='op'>=</span> <span class='st'>"target_var"</span>, feature <span class='op'>=</span> <span class='st'>"chol"</span>,
sample <span class='op'>=</span> <span class='fl'>1</span>, modelname <span class='op'>=</span> <span class='st'>"logreg"</span>, seed <span class='op'>=</span> <span class='fl'>121</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in paste0(class(trainedModel), collapse = "_"): object 'trainedModel' not found</span></div><div class='input'>
<span class='co'># Type 3 other ML object</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www.stat.berkeley.edu/~breiman/RandomForests/'>randomForest</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: package 'randomForest' was built under R version 4.0.4</span></div><div class='output co'>#&gt; <span class='message'>randomForest 4.6-14</span></div><div class='output co'>#&gt; <span class='message'>Type rfNews() to see new features/changes/bug fixes.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: 'randomForest'</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from 'package:ggplot2':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    margin</span></div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.stats.ox.ac.uk/pub/MASS4/'>MASS</a></span><span class='op'>)</span>
<span class='va'>rf</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/randomForest/man/randomForest.html'>randomForest</a></span><span class='op'>(</span><span class='va'>medv</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>Boston</span>, ntree <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>
<span class='va'>cc</span> <span class='op'>=</span> <span class='fu'>autoPDP</span><span class='op'>(</span><span class='va'>Boston</span>, <span class='va'>rf</span>,target <span class='op'>=</span> <span class='st'>"medv"</span>, feature <span class='op'>=</span> <span class='st'>"nox"</span>, sample <span class='op'>=</span> <span class='fl'>1</span>, seed <span class='op'>=</span> <span class='fl'>121</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>input model object is from other ML pacakges</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dayanand Ubrangala, Sayan Putatunda, Kiran R, Ravi Prasad Kondapalli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


